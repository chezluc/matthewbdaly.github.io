<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0"><meta name="description" content="I&#x27;m a web developer in Norfolk. This is my blog..."><link href="/favicon.ico" rel="icon"><link href="http://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet" type="text/css"><link rel="stylesheet" type="text/css" href="/static/bower_components/sass-bootstrap/dist/css/bootstrap.min.css" media="all"><link rel="stylesheet" type="text/css" href="/static/css/style.min.css" media="all"><link rel="alternate" type="application/rss+xml" title="Matthew Daly&#x27;s Blog - feed" href="http://feeds.feedburner.com/MatthewDalysBlog"><title>Matthew Daly&#x27;s Blog</title></head><body><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=MattBD" async="async"></script><header><div class="container headercontainer"><div class="jumbotron"><h1><a href="/">Matthew Daly&#x27;s Blog</a></h1><h2>I&#x27;m a web developer in Norfolk. This is my blog...</h2></div></div><div class="container headercontainer"><nav class="navbar navbar-inverse navbar-static-top"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#header-nav"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button><div class="collapse navbar-collapse" id="header-nav"><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href="/blog/archives/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://feeds.feedburner.com/MatthewDalysBlog">RSS</a></li></ul><form action="http://www.google.com/search" method="GET" name="searchForm" id="searchForm" enctype="application/x-www-form-urlencoded" class="navbar-form navbar-right"><div class="form-group"><input id="search" type="search" name="q" placeholder="Search..." maxlength="200" autocomplete="off" class="form-control"><ul class="searchresults"></ul></div></form></div></div></nav></div></header><div class="container"><div class="row"><div class="col-md-8"><article class="post"><p class="date">27th October 2010 12:15 am</p><h1><a href="/blog/2010/10/27/a-couple-of-things-i-love-about-perl/">A Couple of Things I Love About Perl</a></h1><p>In the time that I’ve been learning Perl, I’ve slowly grown to appreciate the strengths of the language more and more. There’s two things in particular that I like about Perl. Once that I really don’t think anyone is going to be surprised by is CPAN. It’s a fantastic resource - there are a huge quantity of Perl modules available for virtually any task under the sun, and they’re incredibly useful.</p><p>The other is just how good the documentation is - I’ve never considered myself to be someone who learns terribly well from Unix man pages, but perldoc seems to have very good documentation indeed, including that for CPAN modules. Also, it helps that if you don’t do well with the man page format, you have the option of running podwebserver and getting the documentation formatted as web pages.</p><p>To give an example, I’m particularly interested in all kinds of network programming, be it web development, IRC, Jabber or whatever, and I’d heard of the Net::IRC module so I decided to start using it to create a simple IRC bot (yes, I know I should really be using POE::Component::IRC instead!). Using the information gleaned from perldoc Net::IRC it was easy to get started writing a bot, and I’ve now come up with the following simple bot:</p><pre><code class="hljs lang-perl"><table><tr><td class="linenos" data-pseudo-content="1"></td><td><span class="hljs-comment">#!/usr/bin/perl -w</span></td></tr><tr><td class="linenos" data-pseudo-content="2"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="3"></td><td><span class="hljs-keyword">use</span> strict;</td></tr><tr><td class="linenos" data-pseudo-content="4"></td><td><span class="hljs-keyword">use</span> Net::IRC;</td></tr><tr><td class="linenos" data-pseudo-content="5"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="6"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$irc</span> = new Net::IRC;</td></tr><tr><td class="linenos" data-pseudo-content="7"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$nick</span> = <span class="hljs-string">"mattsbot"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="8"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$server</span> = <span class="hljs-string">"irc.freenode.net"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="9"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$channel</span> = <span class="hljs-string">"#botpark"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="10"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$port</span> = <span class="hljs-number">6667</span>;</td></tr><tr><td class="linenos" data-pseudo-content="11"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$ircname</span> = <span class="hljs-string">"My wonderful bot"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="12"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$owner</span> = <span class="hljs-string">"mattbd"</span>; </td></tr><tr><td class="linenos" data-pseudo-content="13"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="14"></td><td><span class="hljs-sub"><span class="hljs-keyword">sub</span> on_connect</span></td></tr><tr><td class="linenos" data-pseudo-content="15"></td><td>{</td></tr><tr><td class="linenos" data-pseudo-content="16"></td><td>   <span class="hljs-keyword">my</span> <span class="hljs-variable">$self</span> = <span class="hljs-keyword">shift</span>;</td></tr><tr><td class="linenos" data-pseudo-content="17"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="18"></td><td>   <span class="hljs-keyword">print</span> <span class="hljs-string">"Joining <span class="hljs-variable">$channel</span>\n"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="19"></td><td>   <span class="hljs-variable">$self</span>-&gt;<span class="hljs-keyword">join</span>(<span class="hljs-variable">$channel</span>);</td></tr><tr><td class="linenos" data-pseudo-content="20"></td><td>   <span class="hljs-variable">$self</span>-&gt;privmsg(<span class="hljs-variable">$channel</span>,<span class="hljs-string">"Ready to go!"</span>);</td></tr><tr><td class="linenos" data-pseudo-content="21"></td><td>}</td></tr><tr><td class="linenos" data-pseudo-content="22"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="23"></td><td><span class="hljs-sub"><span class="hljs-keyword">sub</span> on_disconnect</span></td></tr><tr><td class="linenos" data-pseudo-content="24"></td><td>{</td></tr><tr><td class="linenos" data-pseudo-content="25"></td><td>    <span class="hljs-keyword">my</span> <span class="hljs-variable">$self</span> = <span class="hljs-keyword">shift</span>;</td></tr><tr><td class="linenos" data-pseudo-content="26"></td><td>    <span class="hljs-variable">$self</span>-&gt;<span class="hljs-keyword">join</span>(<span class="hljs-variable">$channel</span>);</td></tr><tr><td class="linenos" data-pseudo-content="27"></td><td>    <span class="hljs-variable">$self</span>-&gt;privmsg(<span class="hljs-variable">$channel</span>, <span class="hljs-string">"Sorry about that - dropped out for a sec."</span>);</td></tr><tr><td class="linenos" data-pseudo-content="28"></td><td>} </td></tr><tr><td class="linenos" data-pseudo-content="29"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="30"></td><td><span class="hljs-sub"><span class="hljs-keyword">sub</span> on_join</span></td></tr><tr><td class="linenos" data-pseudo-content="31"></td><td>{</td></tr><tr><td class="linenos" data-pseudo-content="32"></td><td>    <span class="hljs-comment"># Get the connection and event objects</span></td></tr><tr><td class="linenos" data-pseudo-content="33"></td><td>    <span class="hljs-keyword">my</span> (<span class="hljs-variable">$conn</span>, <span class="hljs-variable">$event</span>) = <span class="hljs-variable">@_</span>;</td></tr><tr><td class="linenos" data-pseudo-content="34"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="35"></td><td>    <span class="hljs-comment"># Get the nick that just joined</span></td></tr><tr><td class="linenos" data-pseudo-content="36"></td><td>    <span class="hljs-keyword">my</span> <span class="hljs-variable">$newnick</span> = <span class="hljs-variable">$event</span>-&gt;{nick};</td></tr><tr><td class="linenos" data-pseudo-content="37"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="38"></td><td>    <span class="hljs-comment"># Greet the new nick</span></td></tr><tr><td class="linenos" data-pseudo-content="39"></td><td>    <span class="hljs-variable">$conn</span>-&gt;privmsg(<span class="hljs-variable">$channel</span>, <span class="hljs-string">"Hello, <span class="hljs-variable">$newnick</span>! I'm a greeting bot!"</span>);</td></tr><tr><td class="linenos" data-pseudo-content="40"></td><td>}</td></tr><tr><td class="linenos" data-pseudo-content="41"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="42"></td><td><span class="hljs-sub"><span class="hljs-keyword">sub</span> on_msg</span></td></tr><tr><td class="linenos" data-pseudo-content="43"></td><td>{</td></tr><tr><td class="linenos" data-pseudo-content="44"></td><td>    <span class="hljs-comment"># Get the connection and event objects</span></td></tr><tr><td class="linenos" data-pseudo-content="45"></td><td>    <span class="hljs-keyword">my</span> (<span class="hljs-variable">$conn</span>, <span class="hljs-variable">$event</span>) = <span class="hljs-variable">@_</span>;</td></tr><tr><td class="linenos" data-pseudo-content="46"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="47"></td><td>    <span class="hljs-comment"># Get nick of messaging user</span></td></tr><tr><td class="linenos" data-pseudo-content="48"></td><td>    <span class="hljs-keyword">my</span> <span class="hljs-variable">$messager</span> = <span class="hljs-variable">$event</span>-&gt;{nick};</td></tr><tr><td class="linenos" data-pseudo-content="49"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="50"></td><td>    <span class="hljs-comment"># Respond negatively</span></td></tr><tr><td class="linenos" data-pseudo-content="51"></td><td>    <span class="hljs-variable">$conn</span>-&gt;privmsg(<span class="hljs-variable">$messager</span>, <span class="hljs-string">"Sorry, I'm just a bot. Please don't message me!"</span>);</td></tr><tr><td class="linenos" data-pseudo-content="52"></td><td>}</td></tr><tr><td class="linenos" data-pseudo-content="53"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="54"></td><td><span class="hljs-sub"><span class="hljs-keyword">sub</span> on_public</span></td></tr><tr><td class="linenos" data-pseudo-content="55"></td><td>{</td></tr><tr><td class="linenos" data-pseudo-content="56"></td><td>    <span class="hljs-comment"># Get the connection and event objects</span></td></tr><tr><td class="linenos" data-pseudo-content="57"></td><td>    <span class="hljs-keyword">my</span> (<span class="hljs-variable">$conn</span>, <span class="hljs-variable">$event</span>) = <span class="hljs-variable">@_</span>;</td></tr><tr><td class="linenos" data-pseudo-content="58"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="59"></td><td>    <span class="hljs-comment"># Get nick of messaging user</span></td></tr><tr><td class="linenos" data-pseudo-content="60"></td><td>    <span class="hljs-keyword">my</span> <span class="hljs-variable">$messager</span> = <span class="hljs-variable">$event</span>-&gt;{nick};</td></tr><tr><td class="linenos" data-pseudo-content="61"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="62"></td><td>    <span class="hljs-comment"># Get text of message</span></td></tr><tr><td class="linenos" data-pseudo-content="63"></td><td>    <span class="hljs-keyword">my</span> <span class="hljs-variable">$text</span> = <span class="hljs-variable">$event</span>-&gt;{args}[<span class="hljs-number">0</span>];</td></tr><tr><td class="linenos" data-pseudo-content="64"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="65"></td><td>    <span class="hljs-comment"># Check to see if text contains name of bot - if so message the user negatively</span></td></tr><tr><td class="linenos" data-pseudo-content="66"></td><td>    <span class="hljs-keyword">if</span>(<span class="hljs-variable">$text</span> =~ <span class="hljs-regexp">m/$nick/</span>)</td></tr><tr><td class="linenos" data-pseudo-content="67"></td><td>    {</td></tr><tr><td class="linenos" data-pseudo-content="68"></td><td>        <span class="hljs-variable">$conn</span>-&gt;privmsg(<span class="hljs-variable">$channel</span>, <span class="hljs-string">"Sorry, <span class="hljs-variable">$messager</span>,I'm just a simple bot!"</span>);</td></tr><tr><td class="linenos" data-pseudo-content="69"></td><td>    }</td></tr><tr><td class="linenos" data-pseudo-content="70"></td><td>}</td></tr><tr><td class="linenos" data-pseudo-content="71"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="72"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$conn</span> = <span class="hljs-variable">$irc</span>-&gt;newconn(<span class="hljs-string">Nick =&gt;</span><span class="hljs-variable">$nick</span>,<span class="hljs-string">Server=&gt;</span><span class="hljs-variable">$server</span>,<span class="hljs-string">Port=&gt;</span><span class="hljs-variable">$port</span>,<span class="hljs-string">Ircname=&gt;</span><span class="hljs-variable">$ircname</span>);</td></tr><tr><td class="linenos" data-pseudo-content="73"></td><td><span class="hljs-variable">$conn</span>-&gt;add_global_handler(<span class="hljs-string">'376'</span>, \&amp;on;_connect);</td></tr><tr><td class="linenos" data-pseudo-content="74"></td><td><span class="hljs-variable">$conn</span>-&gt;add_global_handler(<span class="hljs-string">'disconnect'</span>, \&amp;on;_disconnect);</td></tr><tr><td class="linenos" data-pseudo-content="75"></td><td><span class="hljs-variable">$conn</span>-&gt;add_global_handler(<span class="hljs-string">'msg'</span>, \&amp;on;_msg);</td></tr><tr><td class="linenos" data-pseudo-content="76"></td><td><span class="hljs-variable">$conn</span>-&gt;add_global_handler(<span class="hljs-string">'join'</span>, \&amp;on;_join);</td></tr><tr><td class="linenos" data-pseudo-content="77"></td><td><span class="hljs-variable">$conn</span>-&gt;add_global_handler(<span class="hljs-string">'msg'</span>, \&amp;on;_msg);</td></tr><tr><td class="linenos" data-pseudo-content="78"></td><td><span class="hljs-variable">$conn</span>-&gt;add_global_handler(<span class="hljs-string">'public'</span>, \&amp;on;_public);</td></tr><tr><td class="linenos" data-pseudo-content="79"></td><td><span class="hljs-variable">$irc</span>-&gt;start();</td></tr></table></code></pre><p>Now, this bot isn’t exactly hugely capable - all it does is greet new joiners, and tell you to leave it alone if you try to talk to it, but it was pretty easy to code it, thanks to the documentation, and it’s a good base to build on. From here, it’s easy to extend the on_public and on_msg subroutines to deal with other messages - for instance, I could use a regular expression to look for “!respond” in the text of the message and if it’s found, respond with any appropriate text.</p><p>I’ve hard-coded the appropriate details into the script in this case to make it quicker and easier to test it, but it would be trivial to change it to either accept settings passed as arguments from the command line, or have it grab these from a separate text file.</p><p>My initial doubts about Perl are really wearing off. It’s a powerful language and one that, now I’ve picked up the basic syntax, I’m having little trouble getting work done with.</p></article><article class="post"><p class="date">19th October 2010 2:52 pm</p><h1><a href="/blog/2010/10/19/i-passed/">I Passed!</a></h1><p>Just a short post to say that today I did my CIW Perl Fundamentals exam, and passed it. Glad that’s out of the way!</p></article><article class="post"><p class="date">16th October 2010 9:11 pm</p><h1><a href="/blog/2010/10/16/another-perl-snippet/">Another Perl Snippet...</a></h1><p>Here’s another simple Perl program I thought I’d share. It’s a very simple app for recording notes from the shell. As pasting the last one into WordPress didn’t work too well, <a href="http://dl.dropbox.com/u/5031/notable.pl">it’s on my Dropbox account</a> instead. I’ve used SQLite as the backend for the database (a no-brainer - I really like SQLite for little quick-and-dirty scripts like this) and it works pretty well.</p><p>At some point I may go back to this basic concept and expand on it a little - it would make sense to add a GUI to it, either by using a graphical toolkit such as Tk or turning it into a web app. I also like the idea of adapting it to use a non-relational database - something like CouchDB perhaps.</p></article><article class="post"><p class="date">15th October 2010 8:39 pm</p><h1><a href="/blog/2010/10/15/getting-work-done-with-perl/">Getting Work Done With Perl</a></h1><p>After my initial struggles with Perl, I now think I’m really starting to get to grips with the language. I generally find it a pain when you have to learn by building small but basically useless scripts - I always do best when building something useful.</p><p>As one of the exercises for my studies I had to open a database connection to a Microsoft Access database, but I wanted to do the exercise in Ubuntu (I’ve always preferred using Unix-like operating systems for programming, and thanks to apt-get it’s a lot less grief installing additional libraries and modules as you need them) and couldn’t get Perl to connect to the database properly, so I resolved to export it to either MySQL or SQLite.</p><p>I was able to export it to MySQL in the end using mdbtools, but I wasn’t entirely happy with the end result. I resorted to re-exporting the data as a CSV file, then resolved to write a small Perl script to read the file, parse it using a regular expression to obtain the necessary information, then insert it into a new SQLite database.</p><p>Here’s what I came up with:</p><pre><code class="hljs lang-perl"><table><tr><td class="linenos" data-pseudo-content="1"></td><td><span class="hljs-comment">#!/usr/bin/perl -w</span></td></tr><tr><td class="linenos" data-pseudo-content="2"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="3"></td><td><span class="hljs-keyword">use</span> strict;</td></tr><tr><td class="linenos" data-pseudo-content="4"></td><td><span class="hljs-keyword">use</span> DBI;</td></tr><tr><td class="linenos" data-pseudo-content="5"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="6"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$db</span> = <span class="hljs-string">"dbi:SQLite:backend.db"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="7"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="8"></td><td><span class="hljs-keyword">if</span> (!(-e <span class="hljs-string">"backend.db"</span>))</td></tr><tr><td class="linenos" data-pseudo-content="9"></td><td>{</td></tr><tr><td class="linenos" data-pseudo-content="10"></td><td>   <span class="hljs-keyword">print</span> <span class="hljs-string">"Database does not exist. Creating it..."</span>;</td></tr><tr><td class="linenos" data-pseudo-content="11"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="12"></td><td>   <span class="hljs-comment"># Create the database</span></td></tr><tr><td class="linenos" data-pseudo-content="13"></td><td>   <span class="hljs-keyword">my</span> <span class="hljs-variable">$dbh</span> = DBI-&gt;<span class="hljs-keyword">connect</span>(<span class="hljs-variable">$db</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span> <span class="hljs-string">"Error in connecting to database! <span class="hljs-variable">$DBI::errstr</span>"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="14"></td><td>   <span class="hljs-keyword">my</span> <span class="hljs-variable">$createdb</span> = <span class="hljs-variable">$dbh</span>-&gt;<span class="hljs-keyword">do</span>(<span class="hljs-string">"CREATE TABLE CARS( ID INTEGER PRIMARY KEY, YEAR INTEGER, MAKE VARCHAR(30), MODEL VARCHAR(30), COLOR VARCHAR(30), PRICE INTEGER);"</span>);</td></tr><tr><td class="linenos" data-pseudo-content="15"></td><td>   <span class="hljs-variable">$dbh</span>-&gt;disconnect();</td></tr><tr><td class="linenos" data-pseudo-content="16"></td><td>}</td></tr><tr><td class="linenos" data-pseudo-content="17"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="18"></td><td><span class="hljs-keyword">open</span>(READFILE, <span class="hljs-string">"cartable.csv"</span>);</td></tr><tr><td class="linenos" data-pseudo-content="19"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="20"></td><td><span class="hljs-keyword">while</span>()</td></tr><tr><td class="linenos" data-pseudo-content="21"></td><td>{</td></tr><tr><td class="linenos" data-pseudo-content="22"></td><td>   <span class="hljs-keyword">unless</span>(<span class="hljs-variable">$_</span> =~ <span class="hljs-regexp">m/id,/</span>)</td></tr><tr><td class="linenos" data-pseudo-content="23"></td><td>   {</td></tr><tr><td class="linenos" data-pseudo-content="24"></td><td>      <span class="hljs-regexp">m/\d+\,(\d{4})\,\"(\w+)\"\,\"(\w+)\"\,\"(\w+)\"\,\"(\d+)\"/</span>;</td></tr><tr><td class="linenos" data-pseudo-content="25"></td><td>      <span class="hljs-keyword">my</span> <span class="hljs-variable">$year</span> = <span class="hljs-variable">$1</span>;</td></tr><tr><td class="linenos" data-pseudo-content="26"></td><td>      <span class="hljs-keyword">my</span> <span class="hljs-variable">$make</span> = <span class="hljs-variable">$2</span>;</td></tr><tr><td class="linenos" data-pseudo-content="27"></td><td>      <span class="hljs-keyword">my</span> <span class="hljs-variable">$model</span> = <span class="hljs-variable">$3</span>;</td></tr><tr><td class="linenos" data-pseudo-content="28"></td><td>      <span class="hljs-keyword">my</span> <span class="hljs-variable">$color</span> = <span class="hljs-variable">$4</span>;</td></tr><tr><td class="linenos" data-pseudo-content="29"></td><td>      <span class="hljs-keyword">my</span> <span class="hljs-variable">$price</span> = <span class="hljs-variable">$5</span>;</td></tr><tr><td class="linenos" data-pseudo-content="30"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="31"></td><td>      <span class="hljs-keyword">my</span> <span class="hljs-variable">$dbh2</span> = DBI-&gt;<span class="hljs-keyword">connect</span>(<span class="hljs-variable">$db</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span> <span class="hljs-string">"Error in connecting to database! <span class="hljs-variable">$DBI::errstr</span>"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="32"></td><td>      <span class="hljs-keyword">my</span> <span class="hljs-variable">$insertdb</span> = <span class="hljs-variable">$dbh2</span>-&gt;<span class="hljs-keyword">do</span>(<span class="hljs-string">"INSERT INTO CARS (YEAR, MAKE, MODEL, COLOR, PRICE) VALUES (\"<span class="hljs-variable">$year</span>\", \"<span class="hljs-variable">$make</span>\", \"<span class="hljs-variable">$model</span>\", \"<span class="hljs-variable">$color</span>\", \"<span class="hljs-variable">$price</span>\");"</span>);</td></tr><tr><td class="linenos" data-pseudo-content="33"></td><td>      <span class="hljs-variable">$dbh2</span>-&gt;disconnect;</td></tr><tr><td class="linenos" data-pseudo-content="34"></td><td>   }</td></tr><tr><td class="linenos" data-pseudo-content="35"></td><td>}</td></tr><tr><td class="linenos" data-pseudo-content="36"></td><td><span class="hljs-keyword">close</span>(READFILE);</td></tr><tr><td class="linenos" data-pseudo-content="37"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="38"></td><td><span class="hljs-keyword">print</span> <span class="hljs-string">"Write completed!\n"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="39"></td><td><span class="hljs-keyword">print</span> <span class="hljs-string">"To demonstrate it works, we'll run a SELECT query against the database...\n"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="40"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="41"></td><td><span class="hljs-comment"># Read the database</span></td></tr><tr><td class="linenos" data-pseudo-content="42"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$readdb</span> = DBI-&gt;<span class="hljs-keyword">connect</span>(<span class="hljs-variable">$db</span>);</td></tr><tr><td class="linenos" data-pseudo-content="43"></td><td><span class="hljs-keyword">my</span> <span class="hljs-variable">$dbselect</span> = <span class="hljs-variable">$readdb</span>-&gt;prepare(<span class="hljs-string">"SELECT * FROM CARS;"</span>);</td></tr><tr><td class="linenos" data-pseudo-content="44"></td><td><span class="hljs-variable">$dbselect</span>-&gt;execute;</td></tr><tr><td class="linenos" data-pseudo-content="45"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="46"></td><td><span class="hljs-comment"># Print the results</span></td></tr><tr><td class="linenos" data-pseudo-content="47"></td><td><span class="hljs-keyword">print</span> <span class="hljs-string">"ID\tYear\tMake\tModel\tColor\tPrice\n"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="48"></td><td><span class="hljs-keyword">while</span>(<span class="hljs-keyword">my</span> <span class="hljs-variable">@row</span> = <span class="hljs-variable">$dbselect</span>-&gt;fetchrow_array)</td></tr><tr><td class="linenos" data-pseudo-content="49"></td><td>{</td></tr><tr><td class="linenos" data-pseudo-content="50"></td><td>   <span class="hljs-keyword">print</span> <span class="hljs-string">"<span class="hljs-variable">$row</span>[0]\t<span class="hljs-variable">$row</span>[1]\t<span class="hljs-variable">$row</span>[2]\t<span class="hljs-variable">$row</span>[3]\t<span class="hljs-variable">$row</span>[4]\t<span class="hljs-variable">$row</span>[5]\n"</span>;</td></tr><tr><td class="linenos" data-pseudo-content="51"></td><td>}</td></tr><tr><td class="linenos" data-pseudo-content="52"></td><td></td></tr><tr><td class="linenos" data-pseudo-content="53"></td><td><span class="hljs-comment"># Close the connection</span></td></tr><tr><td class="linenos" data-pseudo-content="54"></td><td><span class="hljs-variable">$readdb</span>-&gt;disconnect;</td></tr></table></code></pre><p>Apologies for the fact that the indentation doesn’t seem to have copied across from Vim very well (can anyone recommend a good WordPress plugin for displaying code, none of the ones I’ve tried seem to be any good?). It works well, and it’s also helped me grasp Perl’s database API better.</p><p>I think I’ve got a better idea now of what Python and Perl are best at and when to use each. Perl is a great language, but the fact that a lot of it is implicit makes it a little harder to pick up at first than Python - for instance, the default variable, which is quite a good idea, but takes a little getting used to. Its regex support is great, and I like the database API, but I would find it a lot harder to do any object-oriented programming in Perl than in Python (which I guess is why <a href="http://www.iinteractive.com/moose/">Moose</a> exists). I’ve found Perl very useful for quick and dirty scripts and as a glue language, but for longer scripts Python seems the better choice.</p></article><article class="post"><p class="date">22nd August 2010 5:15 pm</p><h1><a href="/blog/2010/08/22/what-makes-a-good-programming-textbook/">What Makes a Good Programming Textbook?</a></h1><p>I own a lot of programming textbooks. I went through a long phase of buying ones about virtually any technology I was even remotely interested in, therefore I own loads of books about Perl, Ruby, Python, PHP and C, among others. Granted, with many of them I’ve done little more than flick through them (I find it’s hard to get round to learning things like that without some kind of plan, which was what made me eventually start doing a more formal course since it forced a plan on me), but I’ve seen quite a few.</p><p>But of course, not every textbook is equal. Some are great, truly seminal works that are raved about by well-known programmers. Examples include the Camel book (Programming Perl) and K &amp; R (The C Programming Language). Others are rarely mentioned. But what makes a really good textbook? Here I’m going to list some of the attributes that I’ve found in my favourite and most effective programming texts, and that I think make for a good, effective and informative textbook that makes a good job of getting you up and running programming in a new language:</p><ul><li><strong>Lots of working examples to enter</strong> - To learn to program, whether from scratch or in a brand new language, the best advice I’ve ever heard was that you need to read a lot of code, and write a lot of code. I find that, at least at the start, nothing helps me learn to code in a new language better than lots of examples for me to type in and run, in order to pick up the basic syntax and keywords of the language. After all, that’s how many people used to learn BASIC, by typing in listings from magazines, and it’s how you learn English as a child - you’re exposed to the language, and you copy it, then understanding comes later. One of the best examples of this is C for Dummies, All In One Desktop Reference, by Dan Godkin - it’s packed full of loads of great example programs to enter and run that demonstrate the basic concepts well in C.</li></ul><ul><li><strong>Maintains your interest by showing you how to do interesting things</strong> - Not many people are interested in learning a new programming language to do something tedious (that said, if someone already has to do something tedious, such as a task at work, teaching them how to write a program to do it for them may well be considerably more interesting for them than doing the task themselves, hence the popularity of scripting languages for automating dull tasks), so a good programming textbook needs to show the learner how to do something interesting. Games are an obvious example, but they can get a bit much - how many different versions of Hangman do people want to create? Simple web apps are also an option with many programming languages. If something needs to be more utilitarian, then if possible it should be genuinely useful for solving a problem (the programmer doesn’t necessarily need to have this problem, they just need to see how to create a program to fix it). Frivolous little scripts that do things like recite “99 Bottles of Beer” to demonstrate for loops have their place, but that place is near the start only - by the end a programmer wants to be able to write useful programs.</li></ul><ul><li><strong>Good exercises to stretch the reader</strong>- Many textbooks will have additional exercises for the reader at the end of each chapter that allow them to practice their skills and ensure they aren’t just copying a listing, but are genuinely capable of writing code from scratch in the language. These are effectively the “homework” assignments, and I’ve found that these can be far more important at teaching me how to use the language well for actual programming projects than the listings within the book.</li></ul><p>These are my thoughts, but I’d be interested to read what other people think about this issue. What’s the best programming textbook you’ve ever used, and why do you like it? What do you think a good programming textbook should have?</p></article></div><div class="col-md-4"><h1>Recent Posts</h1><p><a href="/blog/2015/05/03/my-static-site-generator-post-on-sitepoint/">My Static Site Generator Post on Sitepoint</a></p><p><a href="/blog/2015/04/18/how-i-added-search-to-my-site-with-lunr-dot-js/">How I Added Search to My Site With Lunr.js</a></p><p><a href="/blog/2015/04/04/adding-a-new-search-engine-to-my-site/">Adding a New Search Engine to My Site</a></p><p><a href="/blog/2015/03/02/syntax-highlighting-in-fenced-code-blocks-in-vim/">Syntax Highlighting in Fenced Code Blocks in Vim</a></p><p><a href="/blog/2015/03/02/extending-our-node-dot-js-and-redis-chat-server/">Extending Our Node.js and Redis Chat Server</a></p><section id="github-profile"></section><h4>My GitHub repositories</h4><ul id="github-repos"><li>Loading repositories...</li></ul></div></div><div class="row"><div class="col-md-12"><ul class="pager"><li><a href="/posts/9/">Newer</a></li><li><a href="/posts/11/">Older</a></li></ul></div></div></div><footer><div class="container footercontainer"><div class="col-md-12"><p class="copyright">Copyright &copy; Matthew Daly 2015.</p></div></div></footer><script type="text/javascript" src="/static/js/all.min.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-17043630-1');ga('send','pageview');</script></body></html>